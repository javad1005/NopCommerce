@model IList<StoreWithProducts>
@{
    Layout = "";
}

<link rel="stylesheet" href="~/Plugins/Widgets.ShowStoresWithProducts/Contents/ResponsiveStyle.css">
<link rel="stylesheet" href="~/Plugins/Widgets.ShowStoresWithProducts/Contents/MainStyle.css" />

@if (Model.Count > 0)
{
    <section class="stores_continer">
        @foreach (var item in Model)
        {
            <!-- store -->
            @if (item.StoreProducts.Count > 0)
            {
                <div>
                    <div class="store" date-storeid="@item.StoreId">
                        <div class="store_titel">
                            <svg class="store_titel_icon" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none">
                                <path d="M28.75 12C28.7502 11.9303 28.7409 11.8609 28.7225 11.7937L26.93 5.51875C26.8243 5.15435 26.6036 4.8339 26.3008 4.60524C25.998 4.37658 25.6294 4.25197 25.25 4.25H6.75C6.3708 4.25224 6.00247 4.37697 5.69995 4.60562C5.39742 4.83426 5.17689 5.15455 5.07125 5.51875L3.27875 11.7937C3.25992 11.8609 3.25025 11.9303 3.25 12V14C3.24968 14.7587 3.43109 15.5064 3.77905 16.1806C4.12701 16.8547 4.6314 17.4358 5.25 17.875V26C5.25 26.4641 5.43438 26.9092 5.76256 27.2374C6.09075 27.5656 6.53587 27.75 7 27.75H25C25.4641 27.75 25.9092 27.5656 26.2374 27.2374C26.5656 26.9092 26.75 26.4641 26.75 26V17.875C27.3686 17.4358 27.873 16.8547 28.2209 16.1806C28.5689 15.5064 28.7503 14.7587 28.75 14V12ZM6.51375 5.93125C6.52849 5.8797 6.55941 5.83425 6.60195 5.80162C6.64449 5.76898 6.69639 5.75088 6.75 5.75H25.25C25.3043 5.75008 25.357 5.7678 25.4003 5.8005C25.4436 5.8332 25.4751 5.87909 25.49 5.93125L27.0063 11.25H5L6.51375 5.93125ZM12.75 12.75H19.25V14C19.25 14.862 18.9076 15.6886 18.2981 16.2981C17.6886 16.9076 16.862 17.25 16 17.25C15.138 17.25 14.3114 16.9076 13.7019 16.2981C13.0924 15.6886 12.75 14.862 12.75 14V12.75ZM4.75 12.75H11.25V14C11.25 14.862 10.9076 15.6886 10.2981 16.2981C9.6886 16.9076 8.86195 17.25 8 17.25C7.13805 17.25 6.3114 16.9076 5.7019 16.2981C5.09241 15.6886 4.75 14.862 4.75 14V12.75ZM25.25 26C25.25 26.0663 25.2237 26.1299 25.1768 26.1768C25.1299 26.2237 25.0663 26.25 25 26.25H7C6.9337 26.25 6.87011 26.2237 6.82322 26.1768C6.77634 26.1299 6.75 26.0663 6.75 26V18.5825C7.7268 18.8483 8.76296 18.795 9.70736 18.4305C10.6518 18.066 11.455 17.4093 12 16.5562C12.4286 17.2286 13.0199 17.7821 13.719 18.1655C14.4181 18.5489 15.2026 18.7499 16 18.7499C16.7974 18.7499 17.5819 18.5489 18.281 18.1655C18.9801 17.7821 19.5714 17.2286 20 16.5562C20.545 17.4093 21.3482 18.066 22.2926 18.4305C23.237 18.795 24.2732 18.8483 25.25 18.5825V26ZM24 17.25C23.138 17.25 22.3114 16.9076 21.7019 16.2981C21.0924 15.6886 20.75 14.862 20.75 14V12.75H27.25V14C27.25 14.862 26.9076 15.6886 26.2981 16.2981C25.6886 16.9076 24.862 17.25 24 17.25Z" fill="#343330" with="1.5" />
                            </svg>
                            <a class="store_titel_link" href="@item.StoreUrl" title="@item.StoreName">
                                <h2 class="store_titel_text">@item.StoreName</h2>
                            </a>
                        </div>
                    </div>
                    <div class="store_products_continer">
                        <!-- products -->
                        <div class="product-grid home-page-product-grid">
                            <div class="item-grid">

                                @foreach (var product in item.StoreProducts)
                                {
                                    <div class="item-box">
                                        @await Html.PartialAsync("_ProductBox", product)
                                    </div>
                                }
                            </div>
                        </div>
                    </div>
                </div>
            }
           
        }

    </section>
}
